apply plugin: 'java'

task hello {
    doLast {
        println "Hello from task!"
    }
}

build.dependsOn test
test.dependsOn hello

task archive ( type: Tar) {
	doLast {
        from 'build/libs'
	basename = 'hello-'+${BUILD_NUMBER}
	compression = Compression.GZIP
	}
}

hellp.dependsOn archive

repositories {
    mavenCentral()
}

jar {
  manifest {
    attributes(
      'Main-Class': 'com.test.Project'
    )
  }
}

dependencies {
testCompile group: 'junit', name: 'junit', version: '4.+'
compile group: 'commons-collections', name: 'commons-collections', version: '3.2.2'
compile group: 'log4j', name: 'log4j', version: '1.2.17'
}

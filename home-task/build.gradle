apply plugin: 'java'

dependencies {
        repositories { 
                mavenCentral()
        }
        compile group: 'junit', name: 'junit', version: '4.4' 
	compile group: 'log4j', name: 'log4j', version: '1.2.17'
	compile group: 'org.apache.directory.studio', name: 'org.apache.commons.collections', version: '3.2.1'
}

//task build (overwrite: true) {
//        println "Building..."
//}

task hello (dependsOn: test) 
	println "Hello!!!"


task test (dependsOn: build, overwrite: true) {
	println "Testing???"
}

task archive ( type: Tar) {
        from 'build/libs'
	compression = Compression.GZIP
}

task copy (dependsOn: archive) {
	doLast {
		copy {
        	        from 'build/distributions/home-task.tgz'
			into '.'
             	}
	}
}

configurations {
    jar.archiveName = 'task4.jar'
}

jar {
  manifest {
    attributes(
      'Class-Path': configurations.compile.collect { it.getName() }.join(' '),
      'Main-Class': 'com.test.Project'
    )
  }
}
